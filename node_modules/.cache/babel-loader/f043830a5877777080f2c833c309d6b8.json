{"ast":null,"code":"import _asyncToGenerator from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\photo\\\\home\\\\Mytravel\\\\Front-End-ReactJs\\\\travel-new\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import Banner from'../components/common/Banner';import{useEffect,useState}from'react';import blogsService from'../services/blogsService';import{useParams}from'react-router';import SidebarPost from'./SidebarPost';import FormComent from'../components/common/FormComent';import constant from\"../constants/constant.js\";import BlogDetail from'./BlogDetail';import Error from'./Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SingleBlog(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),blog=_useState2[0],setBlog=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),blogs=_useState4[0],setBlogs=_useState4[1];var _useParams=useParams(),id=_useParams.id;var _blog=_objectSpread({},blog),image=_blog.image,title=_blog.title;useEffect(function(){window.scrollTo(0,0);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return blogsService.get(id);case 2:response=_context.sent;if(response.data.success){setBlog(response.data.data);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();try{fetchData();}catch(error){console.log(error);}},[id]);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return blogsService.getTop(id);case 2:response=_context2.sent;if(response.data.success){setBlogs(response.data.data);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchData(){return _ref2.apply(this,arguments);};}();try{fetchData();}catch(error){console.log(error);}},[id]);if(blog.id===undefined){return/*#__PURE__*/_jsx(Error,{error:constant.BLOG_NOTFOUND});}else return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Banner,{title:title,page:\"Tin t\\u1EE9c\"}),/*#__PURE__*/_jsx(\"section\",{className:\"blog-list\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog-details__image\",children:/*#__PURE__*/_jsx(\"img\",{src:constant.IMAGE_BLOG+image,alt:title,className:\"img-fluid\"})}),/*#__PURE__*/_jsx(BlogDetail,{blog:blog}),/*#__PURE__*/_jsx(FormComent,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsx(SidebarPost,{blogs:blogs,urlDetail:\"/vi/blogs/detail\",url:constant.IMAGE_BLOG})})]})})})]});}export default SingleBlog;","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/pages/SingleBlog.js"],"names":["React","Banner","useEffect","useState","blogsService","useParams","SidebarPost","FormComent","constant","BlogDetail","Error","SingleBlog","blog","setBlog","blogs","setBlogs","id","image","title","window","scrollTo","fetchData","get","response","data","success","error","console","log","getTop","undefined","BLOG_NOTFOUND","IMAGE_BLOG"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Banner from '../components/common/Banner';\r\nimport {useEffect, useState} from 'react';\r\nimport blogsService from '../services/blogsService';\r\nimport { useParams } from 'react-router';\r\nimport SidebarPost from './SidebarPost';\r\nimport FormComent from '../components/common/FormComent';\r\nimport constant from \"../constants/constant.js\";\r\nimport BlogDetail from './BlogDetail';\r\n \r\nimport Error from './Error';\r\n \r\n\r\nfunction SingleBlog() {\r\n\r\n    const [blog,setBlog] = useState({});\r\n    const [blogs,setBlogs] = useState([]);\r\n    const {id} = useParams();\r\n    const {image,title}={...blog};\r\n    \r\n    useEffect(()=>{\r\n        window.scrollTo(0, 0);  \r\n        const fetchData = async ()=>{\r\n        const response= await blogsService.get(id);\r\n        if(response.data.success){\r\n            setBlog(response.data.data);\r\n            }                 \r\n        }\r\n        try{\r\n            fetchData();\r\n        }\r\n        catch(error){\r\n            console.log(error);\r\n        }\r\n\r\n        },[id]);\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n          \r\n        const fetchData = async ()=>{\r\n        const response= await blogsService.getTop(id);\r\n        if(response.data.success){\r\n            setBlogs(response.data.data);\r\n            }                 \r\n        }\r\n        try{\r\n            fetchData();\r\n        }\r\n        catch(error){\r\n            console.log(error);\r\n        }\r\n             \r\n            },[id]);           \r\n\r\n    if(blog.id === undefined){\r\n        return <Error error={constant.BLOG_NOTFOUND} />;\r\n    }   \r\n    else \r\n        return (\r\n            <>\r\n        <Banner title={title} page=\"Tin tá»©c\"/>\r\n        <section className=\"blog-list\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-8\">\r\n                        <div className=\"blog-details__image\">\r\n                            <img src={constant.IMAGE_BLOG+image} alt={title} className=\"img-fluid\" />\r\n                        </div>\r\n                        <BlogDetail blog={blog}/>\r\n                        <FormComent/>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                        <SidebarPost blogs={blogs} urlDetail=\"/vi/blogs/detail\" url={constant.IMAGE_BLOG}/>\r\n                    </div>                 \r\n                </div>\r\n                </div>     \r\n        </section> \r\n        </>\r\n    )\r\n}\r\n\r\nexport default SingleBlog\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}