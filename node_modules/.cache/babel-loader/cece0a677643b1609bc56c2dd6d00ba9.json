{"ast":null,"code":"import _objectSpread from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{Link}from'react-router-dom';import'../css/Login.css';import{useFormik}from'formik';import*as Yup from'yup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _formik$errors,_formik$errors2;var formik=useFormik({initialValues:{email:'',password:''},validationSchema:Yup.object({email:Yup.string().max(100,\"Yêu cầu nhập đúng dữ liệu\").required('Vui lòng nhập email').email('Email sai định dạng'),password:Yup.string().required(\"Vui lòng nhập mật khẩu\")}),onSubmit:function onSubmit(values,_ref){var resetForm=_ref.resetForm;console.log(values);handle();resetForm();login(values);}});var handle=function handle(){console.log(\"da submit\");};var login=function login(user){var axios=require('axios');var data=JSON.stringify({\"email\":user.email,\"password\":user.password});var config={method:'post',url:'http://159.223.41.207:8080/api/login',headers:{'Content-Type':'application/json'},data:data};axios(config).then(function(response){console.log(response.data);localStorage.setItem(\"accessToken\",response.data);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"login\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center text-white pt-5\",children:\"Login form\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{id:\"login-row\",className:\"row justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{id:\"login-column\",className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{id:\"login-box\",className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"login-form\",className:\"form\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center text-info\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"text-info\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"email\",className:\"form-control\"},formik.getFieldProps(\"email\")))]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.email&&((_formik$errors=formik.errors)===null||_formik$errors===void 0?void 0:_formik$errors.email)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"text-info\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"password\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.password&&((_formik$errors2=formik.errors)===null||_formik$errors2===void 0?void 0:_formik$errors2.password)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-right\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"remember-me\",className:\"text-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Remember me\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"remember-me\",name:\"remember-me\",type:\"checkbox\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"submit\",className:\"btn btn-info btn-md\",defaultValue:\"submit\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"register-link\",className:\"text-right\",children:/*#__PURE__*/_jsx(Link,{to:\"/vi/register\",className:\"text-info\",children:\"Register here\"})})]})})})})})]});}export default Login;","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/pages/Login.js"],"names":["React","Link","useFormik","Yup","Login","formik","initialValues","email","password","validationSchema","object","string","max","required","onSubmit","values","resetForm","console","log","handle","login","user","axios","require","data","JSON","stringify","config","method","url","headers","then","response","localStorage","setItem","catch","error","handleSubmit","getFieldProps","touched","errors"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport '../css/Login.css'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\n \r\nfunction Login() {\r\n  const formik = useFormik({\r\n    initialValues:{\r\n      email: '',\r\n      password:'',\r\n    },\r\n    validationSchema:Yup.object({\r\n      email: Yup.string()\r\n      .max(100,\"Yêu cầu nhập đúng dữ liệu\")\r\n      .required('Vui lòng nhập email')\r\n      .email('Email sai định dạng'),\r\n      password: Yup.string()\r\n      .required(\"Vui lòng nhập mật khẩu\"),\r\n    }),\r\n    onSubmit: (values,{ resetForm }) =>{\r\n      console.log(values);\r\n      handle();\r\n      resetForm();\r\n      login(values);\r\n    },\r\n  });\r\n  const handle = ()=>{\r\n    console.log(\"da submit\");\r\n  }\r\n     \r\n\r\n\r\n    const login = (user) =>{\r\n        var axios = require('axios');\r\n        var data = JSON.stringify({\r\n          \"email\": user.email,\r\n          \"password\": user.password\r\n        });\r\n        \r\n        var config = {\r\n          method: 'post',\r\n          url: 'http://159.223.41.207:8080/api/login',\r\n          headers: { \r\n            'Content-Type': 'application/json'\r\n          },\r\n          data : data\r\n        };\r\n        \r\n        axios(config)\r\n        .then(function (response) {\r\n          console.log(response.data);\r\n          localStorage.setItem(\"accessToken\",response.data);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n  \r\n\r\n    return (\r\n        \r\n        \r\n        <div id=\"login\">\r\n        <h3 className=\"text-center text-white pt-5\">Login form</h3>\r\n        <div className=\"container\">\r\n          <div id=\"login-row\" className=\"row justify-content-center align-items-center\">\r\n            <div id=\"login-column\" className=\"col-md-6\">\r\n              <div id=\"login-box\" className=\"col-md-12\">\r\n                <form id=\"login-form\" className=\"form\" onSubmit={formik.handleSubmit} >\r\n                  <h3 className=\"text-center text-info\">Login</h3>\r\n\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"username\" className=\"text-info\">Username:</label><br />\r\n                    <input type=\"text\" id=\"email\" className=\"form-control\" \r\n                      \r\n                      {...formik.getFieldProps(\"email\")} \r\n\r\n                    />\r\n                  </div>\r\n                  <div className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.email&&formik.errors?.email}</span></div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\" className=\"text-info\">Password:</label><br />\r\n                    <input type=\"text\" id=\"password\" className=\"form-control\"  />\r\n                  </div>\r\n                  <div className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.password&&formik.errors?.password}</span></div>\r\n\r\n                  \r\n                  <div className=\"form-group text-right\" >\r\n                    <label htmlFor=\"remember-me\" className=\"text-info\"><span>Remember me</span>&nbsp;<span><input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" /></span></label><br />\r\n                    <input type=\"submit\" name=\"submit\" className=\"btn btn-info btn-md\" defaultValue=\"submit\"/>\r\n                  </div>\r\n                  <div id=\"register-link\" className=\"text-right\">\r\n                    <Link to=\"/vi/register\" className=\"text-info\">Register here</Link>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}