{"ast":null,"code":"import _asyncToGenerator from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\photo\\\\home\\\\Mytravel\\\\Front-End-ReactJs\\\\travel-new\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from'react';import blogsService from'../../../services/blogsService';import{useState}from'react';import UpdateBlog from'./UpdateBlog';import AddBlog from'./AddBlog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BlogAdmin(){//phân trang\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState({\"title\":\"\",\"detail\":\"\",\"detailSummary\":\"\",\"file\":null}),_useState6=_slicedToArray(_useState5,2),blogUpdate=_useState6[0],setBlogUpdate=_useState6[1];var updateBlog=function updateBlog(blog){setBlogUpdate(blog);};//cập nhật\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),idUpdate=_useState8[0],setIdUpdate=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isDelete=_useState10[0],setIsDelete=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isUpdate=_useState12[0],setIsUpdate=_useState12[1];var executeUpdate=function executeUpdate(){setIsUpdate(!isUpdate);};//phân trang\nvar increment=function increment(indexPage){setPage(indexPage);};var fethApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return blogsService.getByPage(page);case 2:response=_context.sent;setBlogs(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fethApi(_x){return _ref.apply(this,arguments);};}();useEffect(function(){try{fethApi(page);}catch(err){console.log(\"Fail call api \"+err);}},[page,isDelete,isUpdate,blogUpdate]);//xử lí delete\nvar handleDelete=function handleDelete(){setIsDelete(!isDelete);};//xử lí update\nvar handleUpdate=function handleUpdate(id){setIdUpdate(id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(AddBlog,{}),/*#__PURE__*/_jsx(UpdateBlog,{blogUpdate:blogUpdate,updateBlog:updateBlog,isUpdate:isUpdate,executeUpdate:executeUpdate,handleUpdate:handleUpdate,handleDelete:handleDelete,increment:increment,blogs:blogs,id:idUpdate},idUpdate)]});}export default BlogAdmin;","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/components/admin/blog_admin/BlogAdmin.js"],"names":["React","useEffect","blogsService","useState","UpdateBlog","AddBlog","BlogAdmin","blogs","setBlogs","page","setPage","blogUpdate","setBlogUpdate","updateBlog","blog","idUpdate","setIdUpdate","isDelete","setIsDelete","isUpdate","setIsUpdate","executeUpdate","increment","indexPage","fethApi","getByPage","response","data","err","console","log","handleDelete","handleUpdate","id"],"mappings":"waAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFAGA,QAASC,CAAAA,SAAT,EAAqB,CACnB;AACA,cAAyBH,QAAQ,CAAC,EAAD,CAAjC,wCAAOI,KAAP,eAAaC,QAAb,eACA,eAAqBL,QAAQ,CAAC,CAAD,CAA7B,yCAAOM,IAAP,eAAYC,OAAZ,eACA,eAAmCP,QAAQ,CAAC,CAAC,QAAQ,EAAT,CAAY,SAAS,EAArB,CAAwB,gBAAgB,EAAxC,CAA2C,OAAO,IAAlD,CAAD,CAA3C,yCAAOQ,UAAP,eAAkBC,aAAlB,eAEA,GAAMC,CAAAA,UAAU,CAAE,QAAZA,CAAAA,UAAY,CAACC,IAAD,CAAQ,CACxBF,aAAa,CAACE,IAAD,CAAb,CACD,CAFD,CAIA;AACA,eAA+BX,QAAQ,CAAC,CAAD,CAAvC,yCAAOY,QAAP,eAAgBC,WAAhB,eACA,eAA+Bb,QAAQ,CAAC,KAAD,CAAvC,0CAAOc,QAAP,gBAAgBC,WAAhB,gBACA,gBAA+Bf,QAAQ,CAAC,KAAD,CAAvC,2CAAOgB,QAAP,gBAAgBC,WAAhB,gBAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAI,CACxBD,WAAW,CAAC,CAACD,QAAF,CAAX,CACD,CAFD,CAGA;AACA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,SAAD,CAAe,CAC/Bb,OAAO,CAACa,SAAD,CAAP,CACD,CAFD,CAGE,GAAMC,CAAAA,OAAO,0FAAG,iBAAOf,IAAP,qJACQP,CAAAA,YAAY,CAACuB,SAAb,CAAuBhB,IAAvB,CADR,QACRiB,QADQ,eAEdlB,QAAQ,CAACkB,QAAQ,CAACC,IAAV,CAAR,CAFc,sDAAH,kBAAPH,CAAAA,OAAO,4CAAb,CAIAvB,SAAS,CAAE,UAAI,CACX,GAAG,CACCuB,OAAO,CAACf,IAAD,CAAP,CACH,CACD,MAAMmB,GAAN,CAAU,CACNC,OAAO,CAACC,GAAR,CAAY,iBAAiBF,GAA7B,EACL,CACF,CAPQ,CAOP,CAACnB,IAAD,CAAMQ,QAAN,CAAeE,QAAf,CAAwBR,UAAxB,CAPO,CAAT,CASF;AACA,GAAMoB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAI,CACvBb,WAAW,CAAC,CAACD,QAAF,CAAX,CACH,CAFC,CAIA;AACA,GAAMe,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAM,CACzBjB,WAAW,CAACiB,EAAD,CAAX,CACD,CAFD,CAUE,mBACI,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,OAAD,IADF,cAEE,KAAC,UAAD,EAAY,UAAU,CAAEtB,UAAxB,CAAoC,UAAU,CAAEE,UAAhD,CAA4E,QAAQ,CAAEM,QAAtF,CAAgG,aAAa,CAAEE,aAA/G,CAA8H,YAAY,CAAEW,YAA5I,CAA0J,YAAY,CAAED,YAAxK,CAAsL,SAAS,CAAET,SAAjM,CAA6M,KAAK,CAAEf,KAApN,CAA2N,EAAE,CAAEQ,QAA/N,EAAiEA,QAAjE,CAFF,GADJ,CAOH,CAED,cAAeT,CAAAA,SAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport blogsService from '../../../services/blogsService'\r\nimport { useState } from 'react'\r\nimport UpdateBlog from './UpdateBlog'\r\nimport AddBlog from './AddBlog'\r\n \r\n\r\nfunction BlogAdmin() {\r\n  //phân trang\r\n  const [blogs,setBlogs] = useState({});\r\n  const [page,setPage]=useState(1);\r\n  const [blogUpdate,setBlogUpdate] = useState({\"title\":\"\",\"detail\":\"\",\"detailSummary\":\"\",\"file\":null});\r\n\r\n  const updateBlog =(blog)=>{\r\n    setBlogUpdate(blog)\r\n  }\r\n\r\n  //cập nhật\r\n  const [idUpdate,setIdUpdate] = useState(0);\r\n  const [isDelete,setIsDelete] = useState(false);\r\n  const [isUpdate,setIsUpdate] = useState(false);\r\n \r\n  const executeUpdate = ()=>{\r\n    setIsUpdate(!isUpdate);\r\n  }\r\n  //phân trang\r\n  const increment = (indexPage) => {\r\n    setPage(indexPage)\r\n  }\r\n    const fethApi = async (page)=>{\r\n      const response= await blogsService.getByPage(page);    \r\n      setBlogs(response.data);\r\n  }\r\n    useEffect( ()=>{\r\n        try{\r\n            fethApi(page);\r\n        }\r\n        catch(err){\r\n            console.log(\"Fail call api \"+err);\r\n      } \r\n    },[page,isDelete,isUpdate,blogUpdate])\r\n\r\n  //xử lí delete\r\n  const handleDelete = ()=>{\r\n    setIsDelete(!isDelete);\r\n}\r\n\r\n  //xử lí update\r\n  const handleUpdate = (id)=>{\r\n    setIdUpdate(id);\r\n  }\r\n\r\n\r\n \r\n\r\n \r\n \r\n         \r\n    return (\r\n        <div className=\"container\">              \r\n          <AddBlog/>\r\n          <UpdateBlog blogUpdate={blogUpdate} updateBlog={updateBlog} key={idUpdate}  isUpdate={isUpdate} executeUpdate={executeUpdate} handleUpdate={handleUpdate} handleDelete={handleDelete} increment={increment}  blogs={blogs} id={idUpdate} />\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default BlogAdmin\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}