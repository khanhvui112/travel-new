{"ast":null,"code":"import _asyncToGenerator from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\photo\\\\home\\\\Mytravel\\\\Front-End-ReactJs\\\\travel-new\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import PaginationTable from'../../common/PaginationTable';import orderService from'../../../services/oderService';import utils from'../../../common/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function OrderRestaurant(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),customers=_useState2[0],setCustomers=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],Setpage=_useState4[1];//phân trang\nvar increment=function increment(page){Setpage(page);};var getBypage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return orderService.getOrderRestaurantByPage(page);case 2:response=_context.sent;setCustomers(response.data.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getBypage(_x){return _ref.apply(this,arguments);};}();useEffect(function(){try{getBypage(page);}catch(err){console.log(\"Fail call api \"+err);}},[page]);var handleUpdate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return orderService.updateRestaurantService(id);case 2:window.location.reload();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleUpdate(_x2){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var answer;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:answer=window.confirm(\"bạn thật sự muốn xóa\");if(!answer){_context3.next=5;break;}_context3.next=4;return orderService.removeRestaurantService(id);case 4:window.location.reload();case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDelete(_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Danh s\\xE1ch kh\\xE1ch h\\xE0ng \\u0111\\u1EB7t qu\\xE1n \\u0103n\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"T\\xEAn kh\\xE1ch h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Ghi ch\\xFA\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"T\\xEAn nh\\xE0 h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Th\\u1EDDi gian \\u0111\\u1EB7t\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Tr\\u1EA1ng th\\xE1i \\u0111\\u01A1n \"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{id:\"show_table\",children:customers&&Array.from(customers.pageRespDtos).map(function(customer,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:customer.id}),/*#__PURE__*/_jsx(\"td\",{children:customer.nameCustomer}),/*#__PURE__*/_jsx(\"td\",{children:customer.email}),/*#__PURE__*/_jsx(\"td\",{children:customer.phone}),/*#__PURE__*/_jsx(\"td\",{id:\"blog-detail\",className:\"row-clamp\",children:customer.note}),/*#__PURE__*/_jsx(\"td\",{children:customer.nameRestaurant}),/*#__PURE__*/_jsx(\"td\",{children:utils.getTime(customer.dateOrder)+\" \"+utils.convertDateTime(customer.dateOrder)}),/*#__PURE__*/_jsx(\"td\",{children:customer.status?\"Đã xác thực\":\"Chưa xác thực\"}),/*#__PURE__*/_jsxs(\"td\",{children:[!customer.status&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-toggle\":\"modal\",\"data-target\":\".bd-example-modal-lg\",onClick:function onClick(){return handleUpdate(customer.id);},children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:function onClick(){return handleDelete(customer.id);},children:\"Delete\"})]})]},index);})})]}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsx(PaginationTable,{onClick:increment,totalPage:customers===null||customers===void 0?void 0:customers.totalPage})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade bd-example-modal-lg\",id:\"exampleModal\",tabIndex:-1,role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-lg\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title \",id:\"exampleModalLabel\",children:\"Modal title\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"blody\"})})]})})})]});}export default OrderRestaurant;","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/components/admin/order_admin/OrderRestaurant.js"],"names":["React","useEffect","useState","PaginationTable","orderService","utils","OrderRestaurant","customers","setCustomers","page","Setpage","increment","getBypage","getOrderRestaurantByPage","response","data","err","console","log","handleUpdate","id","updateRestaurantService","window","location","reload","handleDelete","answer","confirm","removeRestaurantService","Array","from","pageRespDtos","map","customer","index","nameCustomer","email","phone","note","nameRestaurant","getTime","dateOrder","convertDateTime","status","totalPage"],"mappings":"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","sourcesContent":["\r\nimport React, { useEffect, useState } from 'react'\r\nimport PaginationTable from '../../common/PaginationTable'\r\nimport orderService from '../../../services/oderService'\r\nimport utils from '../../../common/utils'\r\n\r\nfunction OrderRestaurant() {\r\n    const [customers,setCustomers] = useState();\r\n    const [page,Setpage] = useState(1);\r\n    //phân trang\r\n   const increment = (page) => {\r\n    Setpage(page)\r\n  }\r\n    const getBypage = async (page)=>{\r\n      const response= await orderService.getOrderRestaurantByPage(page) \r\n      setCustomers(response.data.data) \r\n       \r\n  }\r\n    useEffect( ()=>{\r\n        try{\r\n            getBypage(page);\r\n        }\r\n        catch(err){\r\n            console.log(\"Fail call api \"+err);\r\n      } \r\n    },[page])\r\n    const handleUpdate = async (id)=>{\r\n      await orderService.updateRestaurantService(id) \r\n      window.location.reload()\r\n    }\r\n    const handleDelete = async (id)=>{\r\n      const answer = window.confirm(\"bạn thật sự muốn xóa\");\r\n    if (answer) {\r\n      await orderService.removeRestaurantService(id) \r\n      window.location.reload()\r\n  } \r\n      \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                    <h2>Danh sách khách hàng đặt quán ăn</h2>\r\n                    <table className=\"table table-bordered\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Id</th>\r\n                  <th scope=\"col\">Tên khách hàng</th>\r\n                  <th scope=\"col\">Email</th>\r\n                  <th scope=\"col\">Số điện thoại</th>\r\n                  <th scope=\"col\">Ghi chú</th>\r\n                  <th scope=\"col\">Tên nhà hàng</th>\r\n                  <th scope=\"col\">Thời gian đặt</th>\r\n                  <th scope=\"col\">Trạng thái đơn </th>\r\n                  <th scope=\"col\">Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody id=\"show_table\"  >\r\n              {\r\n              customers&&  Array.from(customers.pageRespDtos).map((customer,index) => {\r\n                        return (<tr key={index}>\r\n                                    <td>{customer.id}</td>\r\n                                    <td>{customer.nameCustomer}</td>\r\n                                    <td>{customer.email}</td>         \r\n                                    <td>{customer.phone}</td>   \r\n                                    <td  id=\"blog-detail\" className=\"row-clamp\">{customer.note}</td>              \r\n                                    <td>{customer.nameRestaurant}</td>  \r\n                                    <td>{utils.getTime(customer.dateOrder)+\" \"+utils.convertDateTime(customer.dateOrder) }</td>  \r\n                                    <td>{customer.status?\"Đã xác thực\":\"Chưa xác thực\"}</td>  \r\n                                    <td>          \r\n                                     {!customer.status && <button type=\"button\"   className=\"btn btn-primary\"  data-toggle=\"modal\" data-target=\".bd-example-modal-lg\" onClick={()=>handleUpdate(customer.id)}>Confirm</button>}  \r\n                                        <button  type=\"button\" className=\"btn btn-danger\"onClick={()=>handleDelete(customer.id)}>Delete</button>\r\n                                    </td>\r\n                                </tr>)})   \r\n                }        \r\n                            \r\n              </tbody>\r\n            </table>\r\n            <nav aria-label=\"Page navigation example\">\r\n               <PaginationTable onClick={increment} totalPage={customers?.totalPage}/>\r\n          </nav>                    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"modal fade bd-example-modal-lg\" id=\"exampleModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title \" id=\"exampleModalLabel\">Modal title</h5>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">×</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                    <h2>blody</h2>\r\n                     \r\n            </div>\r\n             \r\n          </div>\r\n        </div>\r\n      </div>      \r\n        </>\r\n    )\r\n}\r\n\r\nexport default OrderRestaurant\r\n "]},"metadata":{},"sourceType":"module"}