{"ast":null,"code":"import _objectSpread from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\photo\\\\home\\\\Mytravel\\\\Front-End-ReactJs\\\\travel-new\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import ClassicEditor from'@ckeditor/ckeditor5-build-classic';import hotelService from'../../../services/hotelService';import{CKEditor}from'@ckeditor/ckeditor5-react';import React from'react';import{useFormik}from'formik';import*as Yup from'yup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AddHotel(){var _formik$errors,_formik$errors2,_formik$errors3,_formik$errors4,_formik$errors5,_formik$errors6,_formik$errors7,_formik$errors8,_formik$errors9,_formik$errors10,_formik$errors11,_formik$errors12,_formik$errors13;var phoneRegExp=/^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;var formik=useFormik({initialValues:{name:'',phone:'',address:'',email:'',urlWeb:'',rate:'',price:'',file:null,detail:''},validationSchema:Yup.object({name:Yup.string().required('Vui lòng nhập tên địa điểm'),phone:Yup.string().required(\"Vui lòng nhập số điện thoại\").matches(phoneRegExp,'Yêu cầu nhập đúng số điện thoại'),address:Yup.string().required(\"Vui lòng địa chỉ điểm du lịch\"),email:Yup.string().email(\"Email không đúng định dạng\").required(\"Vui lòng nhập email\"),urlWeb:Yup.string().required(\"Vui lòng nhập địa chỉ Website\"),rate:Yup.number().integer(\"Vui lòng nhập giá số nguyên dương\").required(\"Vui lòng nhập đánh giá sao\").typeError(\"Vui lòng nhập đúng định dạng là số\"),price:Yup.number().integer(\"Vui lòng nhập giá số nguyên dương\").required(\"Vui lòng nhập giá\").typeError(\"Vui lòng nhập đúng định dạng là số\"),file:Yup.mixed().required(\"Vui lòng chọn ảnh\"),detail:Yup.string().required(\"Vui lòng mô tả\")}),onSubmit:function onSubmit(values,_ref){var resetForm=_ref.resetForm;handleCreate(values);alert(\"Thêm mới thành công\");window.location.reload();}});var handleCkEditor=function handleCkEditor(event,editor){formik.setFieldValue(\"detail\",editor.getData());};var handleCreate=function handleCreate(data){var FormData=require('form-data');var hotelData=new FormData();hotelData.append('email',data.email);hotelData.append('phone',data.phone);hotelData.append('rate',data.rate);hotelData.append('urlWeb',data.urlWeb);hotelData.append('name',data.name);hotelData.append('address',data.address);hotelData.append('price',data.price);Array.from(data.file).forEach(function(file){hotelData.append('file',file);});hotelData.append('detail',data.detail);var create=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return hotelService.create(data);case 2:case\"end\":return _context.stop();}}},_callee);}));return function create(_x){return _ref2.apply(this,arguments);};}();try{create(hotelData);}catch(error){console.log(\"Fail call api \"+error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal fade bd-example-modal-lg add-new-blog\",id:\"exampleModal\",tabIndex:-1,role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-lg\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title \",id:\"exampleModalLabel\",children:\"Modal title\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Th\\xEAm m\\u1EDBi b\\xE0i vi\\u1EBFt\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"T\\xEAn ti\\xEAu \\u0111\\u1EC1 \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"title\",name:\"title\",className:\"title form-control\"},formik.getFieldProps(\"title\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.title&&((_formik$errors=formik.errors)===null||_formik$errors===void 0?void 0:_formik$errors.title)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"T\\xF3m t\\u1EAFt chi ti\\u1EBFt\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"detailSummary\",name:\"detailSummary\",className:\"title form-control\"},formik.getFieldProps(\"detailSummary\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.detailSummary&&((_formik$errors2=formik.errors)===null||_formik$errors2===void 0?void 0:_formik$errors2.detailSummary)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlFile1\",children:\"Ch\\u1ECDn \\u1EA3nh\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",name:\"file\",className:\"form-control-file\",onChange:function onChange(event){formik.setFieldValue(\"file\",event.target.files);}}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.file&&((_formik$errors3=formik.errors)===null||_formik$errors3===void 0?void 0:_formik$errors3.file)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlFile1\",children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(CKEditor,{editor:ClassicEditor,name:\"detail\",id:\"detail\",onReady:function onReady(editor){},onChange:handleCkEditor}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.detail&&((_formik$errors4=formik.errors)===null||_formik$errors4===void 0?void 0:_formik$errors4.detail)})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-submit\",children:\"Submit\"})]})})]})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Th\\xEAm m\\u1EDBi Kh\\xE1ch s\\u1EA1n\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"T\\xEAn kh\\xE1ch s\\u1EA1n\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"name\",name:\"name\",className:\"title form-control\"},formik.getFieldProps(\"name\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.name&&((_formik$errors5=formik.errors)===null||_formik$errors5===void 0?void 0:_formik$errors5.name)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"\\u0110\\u1ECBa ch\\u1EC9\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"address\",name:\"address\",className:\"title form-control\"},formik.getFieldProps(\"address\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.address&&((_formik$errors6=formik.errors)===null||_formik$errors6===void 0?void 0:_formik$errors6.address)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"phone\",name:\"phone\",className:\"title form-control\"},formik.getFieldProps(\"phone\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.phone&&((_formik$errors7=formik.errors)===null||_formik$errors7===void 0?void 0:_formik$errors7.phone)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"email\",name:\"email\",className:\"title form-control\"},formik.getFieldProps(\"email\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.email&&((_formik$errors8=formik.errors)===null||_formik$errors8===void 0?void 0:_formik$errors8.email)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"website\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"urlWeb\",name:\"urlWeb\",className:\"title form-control\"},formik.getFieldProps(\"urlWeb\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.urlWeb&&((_formik$errors9=formik.errors)===null||_formik$errors9===void 0?void 0:_formik$errors9.urlWeb)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"X\\u1EBFp lo\\u1EA1i sao\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"rate\",name:\"rate\",className:\"title form-control\"},formik.getFieldProps(\"rate\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.rate&&((_formik$errors10=formik.errors)===null||_formik$errors10===void 0?void 0:_formik$errors10.rate)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"Gi\\xE1\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"input\",id:\"price\",name:\"price\",className:\"title form-control\"},formik.getFieldProps(\"price\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.price&&((_formik$errors11=formik.errors)===null||_formik$errors11===void 0?void 0:_formik$errors11.price)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlFile1\",children:\"Ch\\u1ECDn \\u1EA3nh\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",name:\"file\",className:\"form-control-file\",multiple:\"multiple\",onChange:function onChange(event){formik.setFieldValue(\"file\",event.target.files);}}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.file&&((_formik$errors12=formik.errors)===null||_formik$errors12===void 0?void 0:_formik$errors12.file)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlFile1\",children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(CKEditor,{editor:ClassicEditor,name:\"detail\",id:\"detail\",onReady:function onReady(editor){},onChange:handleCkEditor}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.detail&&((_formik$errors13=formik.errors)===null||_formik$errors13===void 0?void 0:_formik$errors13.detail)})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-submit\",children:\"Submit\"})]})]})});}export default AddHotel;","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/components/admin/hotel_admin/AddHotel.js"],"names":["ClassicEditor","hotelService","CKEditor","React","useFormik","Yup","AddHotel","phoneRegExp","formik","initialValues","name","phone","address","email","urlWeb","rate","price","file","detail","validationSchema","object","string","required","matches","number","integer","typeError","mixed","onSubmit","values","resetForm","handleCreate","alert","window","location","reload","handleCkEditor","event","editor","setFieldValue","getData","data","FormData","require","hotelData","append","Array","from","forEach","create","error","console","log","handleSubmit","getFieldProps","touched","title","errors","detailSummary","target","files"],"mappings":"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","sourcesContent":["import ClassicEditor from '@ckeditor/ckeditor5-build-classic'\r\nimport hotelService from '../../../services/hotelService'\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react'\r\nimport React from 'react'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\n\r\nfunction AddHotel() {\r\n    const phoneRegExp = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/\r\n    const formik = useFormik({\r\n        initialValues:{\r\n          name: '',\r\n          phone:'',\r\n          address:'',\r\n          email:'',\r\n          urlWeb:'',\r\n          rate:'',\r\n          price:'',\r\n          file:null,\r\n          detail:''\r\n        },\r\n        validationSchema:Yup.object({\r\n          name: Yup.string()\r\n          .required('Vui lòng nhập tên địa điểm'),\r\n          phone: Yup.string()\r\n          .required(\"Vui lòng nhập số điện thoại\")\r\n          .matches(phoneRegExp, 'Yêu cầu nhập đúng số điện thoại'),\r\n          address: Yup.string()\r\n          .required(\"Vui lòng địa chỉ điểm du lịch\"),\r\n          email: Yup.string().email(\"Email không đúng định dạng\")\r\n          .required(\"Vui lòng nhập email\"),\r\n          urlWeb: Yup.string()\r\n          .required(\"Vui lòng nhập địa chỉ Website\"),\r\n          rate: Yup.number()\r\n          .integer(\"Vui lòng nhập giá số nguyên dương\")\r\n          .required(\"Vui lòng nhập đánh giá sao\")\r\n          .typeError(\"Vui lòng nhập đúng định dạng là số\"),\r\n          price: Yup.number()\r\n          .integer(\"Vui lòng nhập giá số nguyên dương\")\r\n          .required(\"Vui lòng nhập giá\")\r\n          .typeError(\"Vui lòng nhập đúng định dạng là số\"),\r\n          file: Yup.mixed().required(\"Vui lòng chọn ảnh\"),\r\n          detail: Yup.string()\r\n          .required(\"Vui lòng mô tả\"),\r\n        }),\r\n        onSubmit: (values,{ resetForm }) =>{\r\n            handleCreate(values)\r\n            alert(\"Thêm mới thành công\")\r\n            window.location.reload();          \r\n        },\r\n      });    \r\n \r\n    const handleCkEditor = (event, editor) => {\r\n        formik.setFieldValue(\"detail\",editor.getData())\r\n     }\r\n\r\n\r\n     const handleCreate= (data)=>{\r\n      var FormData = require('form-data');\r\n      const hotelData = new FormData();\r\n      hotelData.append('email',data.email);\r\n      hotelData.append('phone',data.phone);\r\n      hotelData.append('rate',data.rate); \r\n      hotelData.append('urlWeb',data.urlWeb); \r\n      hotelData.append('name', data.name);\r\n      hotelData.append('address', data.address);\r\n      hotelData.append('price', data.price);\r\n      Array.from( data.file).forEach(file => {\r\n        hotelData.append('file', file);\r\n      });\r\n      hotelData.append('detail', data.detail);\r\n     \r\n      \r\n      const create = async (data)=>{\r\n        await hotelService.create(data);    \r\n       }\r\n        try{\r\n         create(hotelData);   \r\n        }catch(error) {\r\n            console.log(\"Fail call api \"+error);\r\n            }\r\n      }\r\n  return (\r\n    <>\r\n    <div className=\"container\">\r\n    <div className=\"modal fade bd-example-modal-lg add-new-blog\" id=\"exampleModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h5 className=\"modal-title \" id=\"exampleModalLabel\">Modal title</h5>\r\n          <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">×</span>\r\n          </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n        <form onSubmit={formik.handleSubmit}>\r\n        <div className=\"form-group\">\r\n        <h2>Thêm mới bài viết</h2>\r\n            <label htmlFor=\"exampleInputEmail1\">Tên tiêu đề </label>\r\n            <input type=\"input\" id=\"title\" name=\"title\" className=\"title form-control\" \r\n                {...formik.getFieldProps(\"title\")}\r\n                     />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.title&&formik.errors?.title}</span></div>\r\n                \r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">Tóm tắt chi tiết</label>\r\n            <input type=\"input\" id=\"detailSummary\" name=\"detailSummary\" className=\"title form-control\"\r\n                {...formik.getFieldProps(\"detailSummary\")} \r\n                  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.detailSummary&&formik.errors?.detailSummary}</span></div>       \r\n        </div>\r\n        <div className=\"form-group\">    \r\n            <label htmlFor=\"exampleFormControlFile1\">Chọn ảnh</label>\r\n            <input type=\"file\" id=\"file\"  name=\"file\" className=\"form-control-file\" \r\n                onChange={(event) =>{formik.setFieldValue(\"file\",event.target.files)}}  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.file&&formik.errors?.file}</span></div>\r\n        </div>\r\n        <div className=\"form-group\">    \r\n            <label htmlFor=\"exampleFormControlFile1\">Mô tả</label>\r\n            \r\n            <CKEditor \r\n                editor={ClassicEditor}\r\n                name = \"detail\"\r\n                id   = \"detail\"\r\n                onReady={ editor =>{\r\n                }\r\n              }\r\n              onChange={handleCkEditor} \r\n             \r\n                />  \r\n              <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.detail&&formik.errors?.detail}</span></div>           \r\n        </div>           \r\n        <button type=\"submit\" className=\"btn btn-primary btn-submit\">Submit</button>\r\n    </form>  \r\n        </div>\r\n         \r\n      </div>\r\n    </div>\r\n  </div>  \r\n\r\n    <form onSubmit={formik.handleSubmit}>\r\n        <div className=\"form-group\">\r\n        <h2>Thêm mới Khách sạn</h2>\r\n            <label htmlFor=\"exampleInputEmail1\">Tên khách sạn</label>\r\n            <input type=\"input\" id=\"name\" name=\"name\" className=\"title form-control\" \r\n                {...formik.getFieldProps(\"name\")}\r\n                     />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.name&&formik.errors?.name}</span></div>\r\n            \r\n            \r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">Địa chỉ</label>\r\n            <input type=\"input\" id=\"address\" name=\"address\" className=\"title form-control\"\r\n                {...formik.getFieldProps(\"address\")} \r\n                  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.address&&formik.errors?.address}</span></div>       \r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">Số điện thoại</label>\r\n            <input type=\"input\" id=\"phone\" name=\"phone\" className=\"title form-control\"\r\n                {...formik.getFieldProps(\"phone\")} \r\n                  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.phone&&formik.errors?.phone}</span></div>       \r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">Email</label>\r\n            <input type=\"input\" id=\"email\" name=\"email\" className=\"title form-control\"\r\n                {...formik.getFieldProps(\"email\")} \r\n                  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.email&&formik.errors?.email}</span></div>       \r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">website</label>\r\n            <input type=\"input\" id=\"urlWeb\" name=\"urlWeb\" className=\"title form-control\"\r\n                {...formik.getFieldProps(\"urlWeb\")} \r\n                  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.urlWeb&&formik.errors?.urlWeb}</span></div>       \r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">Xếp loại sao</label>\r\n            <input type=\"input\" id=\"rate\" name=\"rate\" className=\"title form-control\"\r\n                {...formik.getFieldProps(\"rate\")} \r\n                  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.rate&&formik.errors?.rate}</span></div>       \r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">Giá</label>\r\n            <input type=\"input\" id=\"price\" name=\"price\" className=\"title form-control\"\r\n                {...formik.getFieldProps(\"price\")} \r\n                   />\r\n                <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.price&&formik.errors?.price}</span></div>       \r\n        </div>\r\n        <div className=\"form-group\">    \r\n            <label htmlFor=\"exampleFormControlFile1\">Chọn ảnh</label>\r\n            <input type=\"file\" id=\"file\"  name=\"file\" className=\"form-control-file\" multiple=\"multiple\"\r\n                onChange={(event) =>{formik.setFieldValue(\"file\",event.target.files)}}  />\r\n            <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.file&&formik.errors?.file}</span></div>\r\n        </div>\r\n        <div className=\"form-group\">    \r\n            <label htmlFor=\"exampleFormControlFile1\">Mô tả</label>\r\n            \r\n            <CKEditor \r\n                editor={ClassicEditor}\r\n                name = \"detail\"\r\n                id   = \"detail\"\r\n                onReady={ editor =>{\r\n                }\r\n              }\r\n              onChange={handleCkEditor}  \r\n                />  \r\n              <div  className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.detail&&formik.errors?.detail}</span></div>           \r\n        </div>           \r\n        <button type=\"submit\" className=\"btn btn-primary btn-submit\">Submit</button>\r\n    </form>  \r\n    </div>\r\n    \r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddHotel\r\n"]},"metadata":{},"sourceType":"module"}