{"ast":null,"code":"var _jsxFileName = \"D:\\\\photo\\\\home\\\\Mytravel\\\\Front-End-ReactJs\\\\travel-new\\\\src\\\\contexts\\\\PlaceContext.js\",\n    _s = $RefreshSig$();\n\nimport placesService from '../services/placesService';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlaceContext = /*#__PURE__*/React.createContext();\n\nfunction PlaceProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [places, setPlaces] = useState({});\n  const [placeByPage, SetPlaceByPage] = useState({});\n  const [idUpdate, setIdUpdate] = useState(0);\n  const [idDelete, setIdDelete] = useState(0);\n  const [status, setStatus] = useState(false);\n  const [page, setPage] = useState(1);\n\n  const setUpdate = () => {\n    setStatus(false);\n  };\n\n  const getPlaceUpdate = place => {\n    localStorage.removeItem(\"id_place\");\n    localStorage.setItem(\"id_place\", place.id);\n    setIdUpdate(place.id);\n    setStatus(true);\n  };\n\n  const handlePage = page => {\n    setPage(page);\n  };\n\n  const executeDelete = async id => {\n    await placesService.remove(id);\n  };\n\n  const handleDelete = id => {\n    try {\n      executeDelete(id);\n      setIdDelete(id);\n    } catch (err) {\n      console.log(\"Fail call api \" + err);\n    }\n  };\n\n  useEffect(() => {\n    const fethApi = async () => {\n      const response = await placesService.getAll();\n      setPlaces(response.data);\n    };\n\n    fethApi();\n  }, []);\n  useEffect(() => {\n    const fethApi = async page => {\n      const response = await placesService.getByPage(page);\n      SetPlaceByPage(response.data);\n    };\n\n    fethApi(page);\n  }, [page, idDelete, idUpdate, status]);\n  return /*#__PURE__*/_jsxDEV(PlaceContext.Provider, {\n    value: {\n      status: status,\n      setUpdate: setUpdate,\n      idUpdate: idUpdate,\n      getPlaceUpdate: getPlaceUpdate,\n      handleDelete: handleDelete,\n      placeByPage: placeByPage.data,\n      places: places.data,\n      handlePage: handlePage\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PlaceProvider, \"/RtFTF75g2AuhgTWmbYTvNXXZqk=\");\n\n_c = PlaceProvider;\nexport { PlaceProvider, PlaceContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaceProvider\");","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/contexts/PlaceContext.js"],"names":["placesService","React","useEffect","useState","PlaceContext","createContext","PlaceProvider","children","places","setPlaces","placeByPage","SetPlaceByPage","idUpdate","setIdUpdate","idDelete","setIdDelete","status","setStatus","page","setPage","setUpdate","getPlaceUpdate","place","localStorage","removeItem","setItem","id","handlePage","executeDelete","remove","handleDelete","err","console","log","fethApi","response","getAll","data","getByPage"],"mappings":"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","sourcesContent":["import placesService from '../services/placesService'\r\nimport React, { useEffect , useState } from 'react'\r\n\r\nconst PlaceContext=React.createContext();\r\nfunction PlaceProvider({children}) {\r\n\r\n    const [places, setPlaces] = useState({});\r\n    const [placeByPage, SetPlaceByPage] = useState({});\r\n    const [idUpdate, setIdUpdate] = useState(0);\r\n    const [idDelete, setIdDelete] = useState(0);\r\n    const [status,setStatus] = useState(false);\r\n    const [page, setPage] = useState(1);\r\n\r\n    const setUpdate = ()=>{\r\n        setStatus(false);\r\n    }\r\n\r\n    const getPlaceUpdate = (place)=>{\r\n        localStorage.removeItem(\"id_place\");\r\n        localStorage.setItem(\"id_place\",place.id);\r\n        setIdUpdate(place.id);\r\n        setStatus(true);\r\n    }\r\n     \r\n\r\n    const handlePage = (page) =>{\r\n        setPage(page);\r\n    }\r\n\r\n    \r\n\r\n\r\n    const executeDelete = async (id)=>{\r\n         await placesService.remove(id);    \r\n    }\r\n \r\n    const handleDelete = (id) =>{\r\n        try{\r\n            executeDelete(id);\r\n            setIdDelete(id);\r\n        }\r\n        catch(err){\r\n            console.log(\"Fail call api \"+err);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    useEffect( ()=>{\r\n        const fethApi = async ()=>{\r\n            const response= await placesService.getAll(); \r\n            setPlaces(response.data);\r\n        }\r\n        fethApi();\r\n        },[])\r\n\r\n    useEffect( ()=>{\r\n        const fethApi = async (page)=>{\r\n            const response= await placesService.getByPage(page);    \r\n            SetPlaceByPage(response.data);\r\n        }\r\n        fethApi(page);\r\n        },[page,idDelete,idUpdate,status])\r\n   \r\n    return (\r\n        <PlaceContext.Provider value={{status:status,setUpdate:setUpdate,idUpdate:idUpdate, getPlaceUpdate:getPlaceUpdate, handleDelete:handleDelete,placeByPage:placeByPage.data, places:places.data, handlePage:handlePage}}>\r\n            {children}\r\n        </PlaceContext.Provider>\r\n    )\r\n}\r\n\r\nexport  {PlaceProvider,PlaceContext};\r\n"]},"metadata":{},"sourceType":"module"}