{"ast":null,"code":"import _asyncToGenerator from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\photo\\\\home\\\\Mytravel\\\\Front-End-ReactJs\\\\travel-new\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useRef}from'react';import utils from'../../../common/utils';import blogService from'../../../services/blogsService';import constant from'../../../constants/constant';import FormBlog from'./FormBlog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RowBlog(_ref){var blogUpdate=_ref.blogUpdate,blog=_ref.blog,handleDelete=_ref.handleDelete,handleUpdate=_ref.handleUpdate,id=_ref.id,executeUpdate=_ref.executeUpdate,isUpdate=_ref.isUpdate,updateBlog=_ref.updateBlog;var elementRef=useRef();useEffect(function(){var divElement=elementRef.current;divElement.innerHTML=blog.detail;},[blog]);var deleteBlog=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return blogService.removeBlog(id);case 3:handleDelete();_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function deleteBlog(_x){return _ref2.apply(this,arguments);};}();var excuteUpdate=function excuteUpdate(event){localStorage.removeItem(\"id_blog\");var id=event.target.getAttribute(\"data\");localStorage.setItem(\"id_blog\",id);handleUpdate(parseInt(id));};var excuteDelete=function excuteDelete(event){var answer=window.confirm(\"bạn thật sự muốn xóa\");if(answer){var _id=event.target.getAttribute(\"data\");deleteBlog(_id);}};return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:blog.id}),/*#__PURE__*/_jsx(\"td\",{children:blog.title}),/*#__PURE__*/_jsx(\"td\",{children:blog.detailSummary}),/*#__PURE__*/_jsx(\"td\",{ref:elementRef,id:\"blog-detail\",className:\"row-clamp\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"center-blog\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image-columm\",src:constant.IMAGE_BLOG+blog.image,alt:blog.title})})}),/*#__PURE__*/_jsx(\"td\",{children:utils.getTime(blog.createDate)+\"  \"+utils.convertDateTime(blog.createDate)}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal fade bd-example-modal-lg\",id:\"exampleModal\",tabIndex:-1,role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-lg\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title \",id:\"exampleModalLabel\",children:\"Modal title\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(FormBlog,{elementRef:elementRef,blogUpdate:blogUpdate,updateBlog:updateBlog,executeUpdate:executeUpdate,isUpdate:isUpdate,id:blog.id,blogById:blog})})]})})}),/*#__PURE__*/_jsx(\"button\",{data:blog.id,type:\"button\",id:id,className:\"btn btn-primary\",\"data-toggle\":\"modal\",\"data-target\":\".bd-example-modal-lg\",onClick:excuteUpdate,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{data:blog.id,type:\"button\",className:\"btn btn-danger\",onClick:excuteDelete,children:\"Delete\"})]})]});}export default RowBlog;","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/components/admin/blog_admin/RowBlog.js"],"names":["React","useEffect","useRef","utils","blogService","constant","FormBlog","RowBlog","blogUpdate","blog","handleDelete","handleUpdate","id","executeUpdate","isUpdate","updateBlog","elementRef","divElement","current","innerHTML","detail","deleteBlog","removeBlog","console","log","excuteUpdate","event","localStorage","removeItem","target","getAttribute","setItem","parseInt","excuteDelete","answer","window","confirm","title","detailSummary","IMAGE_BLOG","image","getTime","createDate","convertDateTime"],"mappings":"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","sourcesContent":["import React, {useEffect,useRef} from 'react';\r\nimport utils from '../../../common/utils';\r\nimport blogService from '../../../services/blogsService';\r\nimport constant from '../../../constants/constant';\r\nimport FormBlog from './FormBlog';\r\n\r\nfunction RowBlog({blogUpdate,blog,handleDelete,handleUpdate,id,executeUpdate,isUpdate,updateBlog}) {\r\n\r\n    const elementRef = useRef();\r\n     \r\n     useEffect(() => {\r\n      const divElement = elementRef.current;\r\n      divElement.innerHTML =blog.detail\r\n     }, [blog])\r\n     \r\n    const deleteBlog = async (id)=>{\r\n        try {\r\n            await blogService.removeBlog(id); \r\n            handleDelete(); \r\n        } catch(err) {\r\n            console.log(err);\r\n        }                \r\n    }\r\n\r\n    \r\n\r\n    const excuteUpdate = (event) => {\r\n      \r\n        localStorage.removeItem(\"id_blog\");\r\n        let id = event.target.getAttribute(\"data\");\r\n        localStorage.setItem(\"id_blog\",id);\r\n        handleUpdate(parseInt(id))  \r\n \r\n         \r\n    }\r\n\r\n    const excuteDelete = (event) => {\r\n      const answer = window.confirm(\"bạn thật sự muốn xóa\");\r\n    if (answer) {\r\n      let id = event.target.getAttribute(\"data\");\r\n      deleteBlog(id);\r\n      \r\n  }     \r\n        \r\n    }      \r\n    return (\r\n        <tr>\r\n            <td>{blog.id}</td>\r\n            <td>{blog.title}</td>\r\n            <td>{blog.detailSummary}</td>  \r\n            <td ref={elementRef} id=\"blog-detail\" className=\"row-clamp\"></td>        \r\n            <td><div className=\"center-blog\"><img className=\"image-columm\" src= {constant.IMAGE_BLOG+blog.image} alt={blog.title}/></div></td>         \r\n            <td>{utils.getTime(blog.createDate)+\"  \"+utils.convertDateTime(blog.createDate) }</td>      \r\n            <td>\r\n            <div className=\"modal fade bd-example-modal-lg\" id=\"exampleModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title \" id=\"exampleModalLabel\">Modal title</h5>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">×</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n            <FormBlog elementRef={elementRef} blogUpdate={blogUpdate} updateBlog={updateBlog} executeUpdate={executeUpdate} isUpdate={isUpdate} id={blog.id} blogById={blog} />\r\n            </div>\r\n             \r\n          </div>\r\n        </div>\r\n      </div>                 \r\n                <button  data={blog.id} type=\"button\" id={id} className=\"btn btn-primary\"  data-toggle=\"modal\" data-target=\".bd-example-modal-lg\" onClick={excuteUpdate}>Update</button>\r\n                <button  data={blog.id} type=\"button\" className=\"btn btn-danger\" onClick={excuteDelete}>Delete</button>\r\n            </td>\r\n        </tr>\r\n        \r\n    )\r\n}\r\n\r\nexport default RowBlog\r\n"]},"metadata":{},"sourceType":"module"}