{"ast":null,"code":"import _objectSpread from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\photo\\\\home\\\\Mytravel\\\\Front-End-ReactJs\\\\travel-new\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import{useFormik}from'formik';import*as Yup from'yup';import orderService from'../../services/oderService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HotelSidebar(_ref){var _formik$errors,_formik$errors2,_formik$errors3,_formik$errors4;var hotel=_ref.hotel;var handleOrder=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var FormData,oderData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:FormData=require('form-data');oderData=new FormData();oderData.append('nameCustomer',data.name);oderData.append('email',data.email);oderData.append('phone',data.phone);oderData.append('note',data.note);oderData.append('nameHotel',data.nameHotel);_context.next=9;return orderService.createHotelService(oderData);case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleOrder(_x){return _ref2.apply(this,arguments);};}();var formik=useFormik({initialValues:{name:'',email:localStorage.getItem(\"user\"),phone:'',note:''},validationSchema:Yup.object({name:Yup.string().max(100,\"Yêu cầu nhập đúng dữ liệu\").required('Vui lòng nhập tên'),email:Yup.string().max(100,\"Yêu cầu nhập đúng dữ liệu\").required('Vui lòng nhập email').email('Email sai định dạng'),phone:Yup.string().required(\"Vui lòng nhập số điện thoại\").matches(/^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/,\"Số điện thoại không đúng.Vui lòng nhập lại\"),note:Yup.string().required(\"Vui lòng nhập ghi chú\")}),onSubmit:function onSubmit(values,_ref3){var resetForm=_ref3.resetForm;console.log(_objectSpread(_objectSpread({},values),{},{\"nameHotel\":hotel.name}));try{handleOrder(_objectSpread(_objectSpread({},values),{},{\"nameHotel\":hotel.name}));alert(\"Đặt thành công\");resetForm();}catch(e){console.log(\"fail\"+e);}}});return/*#__PURE__*/_jsx(\"div\",{className:\"tour-sidebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour-sidebar__search tour-sidebar__single\",id:\"book-tour-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"hdBookTourID\",defaultValue:5}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"hdBookLang\",defaultValue:\"vi\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0110\\u1EB7t kh\\xE1ch s\\u1EA1n n\\xE0y\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,className:\"tour-sidebar__search-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"name\",placeholder:\"H\\u1ECD v\\xE0 t\\xEAn\"},formik.getFieldProps(\"name\")))}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.name&&((_formik$errors=formik.errors)===null||_formik$errors===void 0?void 0:_formik$errors.name)})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\",id:\"email\",placeholder:\"Email\"},formik.getFieldProps(\"email\")))}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.email&&((_formik$errors2=formik.errors)===null||_formik$errors2===void 0?void 0:_formik$errors2.email)})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"phone\",placeholder:\"\\u0110i\\u1EC7n tho\\u1EA1i\"},formik.getFieldProps(\"phone\")))}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.phone&&((_formik$errors3=formik.errors)===null||_formik$errors3===void 0?void 0:_formik$errors3.phone)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"textarea\",_objectSpread({id:\"note\",placeholder:\"Ghi ch\\xFA\",defaultValue:\"\"},formik.getFieldProps(\"note\"))),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\",children:formik.touched.note&&((_formik$errors4=formik.errors)===null||_formik$errors4===void 0?void 0:_formik$errors4.note)})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-danger\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"thm-btn\",children:\"\\u0110\\u1EB7t\"})})]})]})});}export default HotelSidebar;","map":{"version":3,"sources":["D:/photo/home/Mytravel/Front-End-ReactJs/travel-new/src/components/hotels/HotelSidebar.js"],"names":["React","useFormik","Yup","orderService","HotelSidebar","hotel","handleOrder","data","FormData","require","oderData","append","name","email","phone","note","nameHotel","createHotelService","formik","initialValues","localStorage","getItem","validationSchema","object","string","max","required","matches","onSubmit","values","resetForm","console","log","alert","e","handleSubmit","getFieldProps","touched","errors"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\nimport orderService from '../../services/oderService'\r\n\r\nfunction HotelSidebar({hotel}) {\r\n    const handleOrder = async (data) => { \r\n    var FormData = require('form-data');\r\n    const oderData = new FormData();\r\n    oderData.append('nameCustomer', data.name);\r\n    oderData.append('email', data.email);\r\n    oderData.append('phone', data.phone);\r\n    oderData.append('note', data.note);\r\n    oderData.append('nameHotel', data.nameHotel);\r\n    await orderService.createHotelService(oderData);     \r\n    }\r\n    const formik = useFormik({\r\n        initialValues:{\r\n          name: '',\r\n          email: localStorage.getItem(\"user\"),\r\n          phone:'',\r\n          note:'',\r\n        },\r\n        validationSchema:Yup.object({\r\n          name: Yup.string()\r\n          .max(100,\"Yêu cầu nhập đúng dữ liệu\")\r\n          .required('Vui lòng nhập tên'),\r\n          email: Yup.string()\r\n          .max(100,\"Yêu cầu nhập đúng dữ liệu\")\r\n          .required('Vui lòng nhập email')\r\n          .email('Email sai định dạng'),\r\n          phone: Yup.string()\r\n          .required(\"Vui lòng nhập số điện thoại\")\r\n          .matches(\r\n            /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/,\r\n            \"Số điện thoại không đúng.Vui lòng nhập lại\"\r\n          ),\r\n          note: Yup.string()\r\n          .required(\"Vui lòng nhập ghi chú\")\r\n\r\n        }),\r\n        onSubmit: (values,{ resetForm }) =>{\r\n            console.log({...values,\"nameHotel\":hotel.name});\r\n            try {\r\n                handleOrder({...values,\"nameHotel\":hotel.name});\r\n                alert(\"Đặt thành công\")\r\n                resetForm();\r\n            }catch(e) {\r\n                console.log(\"fail\"+e);\r\n            }\r\n        },\r\n      });\r\n \r\n\r\n    return (\r\n        <div className=\"tour-sidebar\">\r\n            <div className=\"tour-sidebar__search tour-sidebar__single\"id=\"book-tour-form\">\r\n                <input type=\"hidden\" id=\"hdBookTourID\" defaultValue={5} />\r\n                <input type=\"hidden\" id=\"hdBookLang\" defaultValue=\"vi\" />\r\n                <h3>Đặt khách sạn này</h3>\r\n                <form onSubmit={formik.handleSubmit}  className=\"tour-sidebar__search-form\">\r\n                <div className=\"input-group\">\r\n                    <input type=\"text\" id=\"name\" placeholder=\"Họ và tên\" \r\n                         {...formik.getFieldProps(\"name\")}\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.name&&formik.errors?.name}</span></div>\r\n                <div className=\"input-group\">\r\n                    <input type=\"email\" id=\"email\" placeholder=\"Email\" \r\n                         {...formik.getFieldProps(\"email\")}\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.email&&formik.errors?.email}</span></div>  \r\n                <div className=\"input-group\">\r\n                    <input type=\"text\" id=\"phone\" placeholder=\"Điện thoại\" \r\n                         {...formik.getFieldProps(\"phone\")}\r\n                    />\r\n                </div>\r\n                <div className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.phone&&formik.errors?.phone}</span></div>\r\n                <div className=\"input-group\">\r\n                    <textarea id=\"note\" placeholder=\"Ghi chú\" defaultValue={\"\"} \r\n                        {...formik.getFieldProps(\"note\")}\r\n                    />\r\n                <div className=\"input-group\"><span className=\"text-center text-danger\">{formik.touched.note&&formik.errors?.note}</span></div>\r\n                </div>\r\n                <span className=\"text-center text-danger\"></span>\r\n\r\n                <div className=\"input-group\">\r\n                    <button type=\"submit\" className=\"thm-btn\">Đặt</button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n            {/* <div className=\"tour-sidebar\">\r\n                <div className=\"tour-sidebar__featured\">\r\n                    <h3>Địa điểm khác</h3>\r\n                    <div className=\"tour-sidebar__featured-single\"><img src={anh2} alt=\"\" />\r\n                        <span>Phường Nông Trang</span>\r\n                        <h3><a href=\"/vi/restaurant/details/nha-hang-ha-ca-tien-vua-5\">Nhà hàng hả cá Tiến Vua</a></h3>\r\n                    </div>\r\n                    <div className=\"tour-sidebar__featured-single\">\r\n                        <img src={anh2} alt=\"\" />\r\n                        <span>Phường Nông Trang</span>\r\n                        <h3><a href=\"/vi/restaurant/details/nha-hang-vy-anh-6\">Nhà hàng Vy Anh</a></h3>\r\n                    </div>\r\n                    <div className=\"tour-sidebar__featured-single\">\r\n                    <img src={anh2} alt=\"\" />\r\n                    <span>Phường Nông Trang</span>\r\n                    <h3><a href=\"/vi/restaurant/details/kichi-kichi-lau-bang-chuyen-viet-tri-12\">Kichi Kichi - lẩu băng chuyền Việt Trì</a></h3>\r\n                    </div>\r\n                </div>\r\n            </div> */}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default HotelSidebar\r\n\r\n"]},"metadata":{},"sourceType":"module"}